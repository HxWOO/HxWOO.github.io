---
layout: post
title:  "[ë°±ì¤€] 15666: Nê³¼ M(12)"
date:   2025-08-08 00:00:00 +0900
categories: Algorithms
tags: [algorithm, backtracking, combinations_with_replacement]
---

<br>

### ğŸ’» ë°±ì¤€ 15666ë²ˆ: Nê³¼ M(12)

- **ë¬¸ì œ ë§í¬:** [https://www.acmicpc.net/problem/15666](https://www.acmicpc.net/problem/15666)
- **ì•Œê³ ë¦¬ì¦˜ ë¶„ë¥˜:** ë°±íŠ¸ë˜í‚¹

## ë¬¸ì œ ì†Œê°œ ğŸ§

Nê°œì˜ ìì—°ìˆ˜ ì¤‘ì—ì„œ Mê°œë¥¼ ê³ ë¥´ëŠ” ëª¨ë“  ìˆ˜ì—´ì„ êµ¬í•˜ëŠ” ë¬¸ì œë‹¤. ë‹¨, ê°™ì€ ìˆ˜ë¥¼ ì—¬ëŸ¬ ë²ˆ ê³¨ë¼ë„ ë˜ë©°, ìˆ˜ì—´ì€ ë¹„ë‚´ë¦¼ì°¨ìˆœì´ì–´ì•¼ í•˜ê³ , ì¤‘ë³µë˜ëŠ” ìˆ˜ì—´ì€ ì¶œë ¥í•˜ë©´ ì•ˆ ëœë‹¤.

### ì…ë ¥ ğŸ“

- ì²«ì§¸ ì¤„ì— Nê³¼ Mì´ ì£¼ì–´ì§„ë‹¤. (1 â‰¤ M â‰¤ N â‰¤ 8)
- ë‘˜ì§¸ ì¤„ì— Nê°œì˜ ìˆ˜ê°€ ì£¼ì–´ì§€ë©°, ì´ ìˆ˜ë“¤ì€ 10,000ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ìì—°ìˆ˜ë‹¤.

### ì¶œë ¥ ğŸ“¤

- ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ìˆ˜ì—´ì„ í•œ ì¤„ì— í•˜ë‚˜ì”© ì¶œë ¥í•œë‹¤.
- ê° ìˆ˜ì—´ì€ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„í•˜ë©°, ì‚¬ì „ ìˆœìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ìˆœì„œë¡œ ì¶œë ¥í•´ì•¼ í•œë‹¤.

### ì œí•œ âŒ

- **ì‹œê°„:** 2ì´ˆ
- **ë©”ëª¨ë¦¬:** 512 MB

---

### ì²« ë²ˆì§¸ ì‹œë„: `itertools`ì™€ `Counter` í™œìš© ğŸš€

#### Idea

`itertools.combinations_with_replacement`ë¥¼ ì‚¬ìš©í•˜ë©´ ì¤‘ë³µ ì¡°í•©ì„ ì‰½ê²Œ êµ¬í•  ìˆ˜ ìˆë‹¤.

1.  **ì •ë ¬ ë° ì¤‘ë³µ ì œê±°**: ë¨¼ì € ì…ë ¥ë°›ì€ ìˆ«ì(`nums`)ë¥¼ ì •ë ¬í•œë‹¤. ê·¸ í›„ `collections.Counter`ë¥¼ ì‚¬ìš©í•´ ì…ë ¥ê°’ì˜ ì¤‘ë³µì„ ì œê±°í•œ ê³ ìœ í•œ ìˆ«ì ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“ ë‹¤.
2.  **ì¤‘ë³µ ì¡°í•© ìƒì„±**: ì´ ê³ ìœ  ìˆ«ì ë¦¬ìŠ¤íŠ¸ë¥¼ `combinations_with_replacement`ì— ë„˜ê²¨ Mê°œë¥¼ ë½‘ëŠ” ëª¨ë“  ì¤‘ë³µ ì¡°í•©ì„ ìƒì„±í•œë‹¤.
3.  **ì¤‘ë³µ ìˆ˜ì—´ ì œê±° ë° ì¶œë ¥**: `combinations_with_replacement`ê°€ ìƒì„±í•œ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ì—ëŠ” ì¤‘ë³µëœ ì¡°í•©ì´ ìˆì„ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ `prev` ë³€ìˆ˜ë¥¼ ë‘ì–´ ì§ì „ì— ì¶œë ¥í•œ ì¡°í•©ê³¼ í˜„ì¬ ì¡°í•©ì„ ë¹„êµí•˜ì—¬, ê°™ì€ ê²½ìš°ì—” ì¶œë ¥í•˜ì§€ ì•Šê³  ë„˜ì–´ê°€ëŠ” ë°©ì‹ìœ¼ë¡œ ì¤‘ë³µ ì¶œë ¥ì„ ë°©ì§€í–ˆë‹¤.

#### Code

```python
import sys
from itertools import combinations_with_replacement
from collections import Counter

n, m = map(int, sys.stdin.readline().split())
nums = list(map(int, sys.stdin.readline().split()))
nums.sort()
# Counterë¥¼ ì‚¬ìš©í•´ ê³ ìœ í•œ ìˆ«ì ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶”ì¶œ
nest_rm_nums_li = list(Counter(nums).keys())

com_li = list(combinations_with_replacement(nest_rm_nums_li, m))
prev = None

for com in com_li:
    # ì§ì „ ì¡°í•©ê³¼ ë¹„êµí•˜ì—¬ ì¤‘ë³µ ì¶œë ¥ ë°©ì§€
    if com == prev:
        continue
    prev = com
    print(*com)
```

#### Result

- **ê²°ê³¼: ì •ë‹µ! âœ…**
- `Counter`ë¡œ ì…ë ¥ì˜ ì¤‘ë³µì„ ì œê±°í•˜ê³ , ì¶œë ¥ ë‹¨ê³„ì—ì„œ `prev` ë³€ìˆ˜ë¡œ ì¡°í•©ì˜ ì¤‘ë³µì„ í•œ ë²ˆ ë” ê±¸ëŸ¬ë‚´ì–´ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤.

---

## ê°œì„ í•  ë¶€ë¶„ ğŸ¤”

- `itertools` ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ìˆœì—´/ì¡°í•© ë¬¸ì œì—ì„œ ë§¤ìš° ê°•ë ¥í•˜ë‹¤. ì ê·¹ì ìœ¼ë¡œ í™œìš©í•˜ì.
- `Counter`ë¥¼ ì‚¬ìš©í•´ ê³ ìœ  ì›ì†Œë¥¼ ì¶”ì¶œí•˜ëŠ” ë°©ë²•ë„ ìœ ìš©í•˜ì§€ë§Œ, ì´ ê²½ìš°ì—ëŠ” `sorted(list(set(nums)))`ê°€ ë” ê°„ê²°í•œ ì½”ë“œê°€ ë  ìˆ˜ ìˆì—ˆë‹¤.

> `itertools`ì™€ `Counter`ë¥¼ ì¡°í•©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤. ì¶œë ¥ ì‹œ ì¤‘ë³µì„ ì œê±°í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•œ ê²ƒì´ í•µì‹¬ì´ì—ˆë‹¤.
