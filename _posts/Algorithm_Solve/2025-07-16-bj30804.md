---
layout: post
title:  "[BOJ] 30804ë²ˆ: íƒ•í›„ë£¨"
date:   2025-07-16 00:00:00 +0900
categories: Algorithms
tags: [algorithm, two-pointer, sliding-window]
---

### ğŸ“ ë°±ì¤€ 30804ë²ˆ: íƒ•í›„ë£¨

> [ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/30804)

#### ë¬¸ì œ ì†Œê°œ

- **ì…ë ¥:**
    - ì²«ì§¸ ì¤„: ê³¼ì¼ì˜ ê°œìˆ˜ N (1 <= N <= 200,000)
    - ë‘˜ì§¸ ì¤„: Nê°œì˜ ê³¼ì¼ ì¢…ë¥˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì •ìˆ˜
- **ì¶œë ¥:**
    - ë‘ ì¢…ë¥˜ ì´í•˜ì˜ ê³¼ì¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê°€ì¥ ê¸´ íƒ•í›„ë£¨ì˜ ê¸¸ì´
- **ì•Œê³ ë¦¬ì¦˜ ë¶„ë¥˜:**
    - #êµ¬í˜„ #ë¸Œë£¨íŠ¸í¬ìŠ¤ #íˆ¬-í¬ì¸í„° #ìŠ¬ë¼ì´ë”©-ìœˆë„ìš°

---

### ì²« ë²ˆì§¸ ì‹œë„: ë¸Œë£¨íŠ¸í¬ìŠ¤ ğŸ‘Š

#### Idea

ì²˜ìŒì—” Nì˜ ë²”ìœ„ê°€ 200,000ì´ë¼ ì™„ì „ íƒìƒ‰ì€ ì•ˆë ê±°ë¼ ìƒê°í–ˆë‹¤

í•˜ì§€ë§Œ í˜¹ì‹œë‚˜ í•˜ëŠ” ë§ˆìŒì— ì´ì¤‘ ë°˜ë³µë¬¸ìœ¼ë¡œ ëª¨ë“  ë¶€ë¶„ ë°°ì—´ì„ í™•ì¸í•˜ëŠ” ë°©ë²•ì„ ë– ì˜¬ë ¸ë‹¤

`right_end`ë¡œ ì˜¤ë¥¸ìª½ ë ë²”ìœ„ë¥¼ ì •í•´ë†“ê³ , `left_end`ë¥¼ 1ì”© ëŠ˜ë ¤ê°€ë©° ê³¼ì¼ì˜ ì¢…ë¥˜ë¥¼ ì„¸ëŠ” ë°©ì‹ì´ì—ˆë‹¤

`Counter`ë¥¼ ì‚¬ìš©í•˜ë©´ ê³¼ì¼ ì¢…ë¥˜ë¥¼ ì‰½ê²Œ ì…€ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•˜ë‹¤

#### Code

```python
import sys
from collections import Counter

n = int(sys.stdin.readline().rstrip())
fruits = list(map(int, sys.stdin.readline().split()))
answer = -1

for right_end in range(1, n):
    left_end = 0
    while left_end < right_end:
        c = Counter(fruits[left_end:right_end+1])
        fruit_len = right_end - left_end + 1
        left_end += 1

        if len(c) <= 2:
            if answer < fruit_len:
                answer = fruit_len
            break

print(answer)
```

#### Result

ê²°ê³¼ëŠ” ì—­ì‹œë‚˜ **ì‹œê°„ ì´ˆê³¼** â³

ì•„ë¬´ë˜ë„ ì´ì¤‘ ë°˜ë³µë¬¸ê³¼ ë°˜ë³µë¬¸ ë‚´ì—ì„œ ë§¤ë²ˆ `Counter`ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ëŠ” ê³¼ì •ì´ ì‹œê°„ ë³µì¡ë„ë¥¼ O(N^2)ìœ¼ë¡œ ë§Œë“¤ì–´ ì‹œê°„ ì´ˆê³¼ê°€ ë°œìƒí•œ ê²ƒ ê°™ì•˜ë‹¤

---

### ë‘ ë²ˆì§¸ ì‹œë„: íˆ¬ í¬ì¸í„° âœ¨

#### Idea

ì‹œê°„ì„ ì¤„ì´ê¸° ìœ„í•´ **íˆ¬ í¬ì¸í„°(ìŠ¬ë¼ì´ë”© ìœˆë„ìš°)** ê¸°ë²•ì„ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤

ì˜¤ë¥¸ìª½ í¬ì¸í„°(`right_end`)ë¥¼ ê³„ì† ì´ë™ì‹œí‚¤ë©´ì„œ ê³¼ì¼ ì¢…ë¥˜ë¥¼ í™•ì¸í•˜ê³ 

ê³¼ì¼ ì¢…ë¥˜ê°€ 2ê°œë¥¼ ì´ˆê³¼í•˜ë©´ ì™¼ìª½ í¬ì¸í„°(`left_end`)ë¥¼ ì´ë™ì‹œì¼œ ìœˆë„ìš° í¬ê¸°ë¥¼ ì¡°ì ˆí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ê°œì„ í•˜ë ¤í–ˆë‹¤

ì´ë ‡ê²Œ í•˜ë©´ í•œ ë²ˆì˜ ìˆœíšŒë¡œ ì •ë‹µì„ ì°¾ì„ ìˆ˜ ìˆì„ê±°ë¼ ìƒê°í–ˆë‹¤

#### Code

```python
import sys
from collections import Counter

n = int(sys.stdin.readline().rstrip())
fruits = sys.stdin.readline().split()
answer = -1
left_end = 0
c = Counter(fruits[0:1])

for right_end in range(1, n):
    
    if fruits[right_end] in c:
        c[fruits[right_end]] += 1
    else:
        c[fruits[right_end]] = 1
        
        while len(c) > 2:
            c[fruits[left_end]] -= 1
            if c[fruits[left_end]] == 0:
                del c[fruits[left_end]]
            left_end += 1
    answer = max(answer, c.total())

print(answer)
```

#### Result

ê²°ê³¼ëŠ” **97%ì—ì„œ í‹€ë ¸ìŠµë‹ˆë‹¤** âŒ

ë¬´ì—‡ì´ ë¬¸ì œì¼ê¹Œ ê³°ê³°íˆ ìƒê°í•´ë³´ë‹ˆ

ê³¼ì¼ì´ í•œ ì¢…ë¥˜ë§Œ ì£¼ì–´ì§€ëŠ” **ì—£ì§€ ì¼€ì´ìŠ¤**ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šì•˜ë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹¬ì•˜ë‹¤

---

### ì„¸ ë²ˆì§¸ ì‹œë„: ì—£ì§€ ì¼€ì´ìŠ¤ ì²˜ë¦¬ âœ…

#### Idea

ê¸°ì¡´ ì½”ë“œì—ì„œ `answer`ì˜ ì´ˆê¸°ê°’ì„ 1ë¡œ ì„¤ì •í•´ì„œ

ê³¼ì¼ì´ í•˜ë‚˜ë§Œ ë“¤ì–´ì™€ë„ ê¸¸ì´ëŠ” ìµœì†Œ 1ì´ ë³´ì¥ë˜ë„ë¡ ìˆ˜ì •í–ˆë‹¤

ì•„ì£¼ ê°„ë‹¨í•œ ìˆ˜ì •ì´ì—ˆì§€ë§Œ, í•µì‹¬ì ì¸ ë¶€ë¶„ì´ì—ˆë‹¤

#### Code

```python
import sys
from collections import Counter

n = int(sys.stdin.readline().rstrip())
fruits = sys.stdin.readline().split()
answer = 1
left_end = 0
c = Counter(fruits[0:1])

for right_end in range(1, n):
    
    if fruits[right_end] in c:
        c[fruits[right_end]] += 1
    else:
        c[fruits[right_end]] = 1
        
        while len(c) > 2:
            c[fruits[left_end]] -= 1
            if c[fruits[left_end]] == 0:
                del c[fruits[left_end]]
            left_end += 1
    answer = max(answer, sum(c.values()))

print(answer)
```

#### Result

ë“œë””ì–´ **ì„±ê³µ**! ğŸ‰

---

## ê°œì„ í•  ë¶€ë¶„ ğŸ¤”

`Counter`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ë”•ì…”ë„ˆë¦¬ë‚˜ ë°°ì—´ì„ ì§ì ‘ ì‚¬ìš©í•˜ì—¬ ê³¼ì¼ ì¢…ë¥˜ë¥¼ ì¹´ìš´íŠ¸í•˜ë©´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¡°ê¸ˆ ë” ìµœì í™”í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤
