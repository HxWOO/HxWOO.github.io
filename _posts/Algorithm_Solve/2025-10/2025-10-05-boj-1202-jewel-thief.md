---
layout: post
title: "[BOJ] 1202 - ë³´ì„ ë„ë‘‘"
date: 2025-10-05 00:00:00 +0900
categories: [Algorithm_Solve]
tags: [greedy, priority_queue, sorting]
---

<br>

### ğŸ’» ë¬¸ì œ: ë³´ì„ ë„ë‘‘

- **ë¬¸ì œ ë§í¬:** [https://www.acmicpc.net/problem/1202](https://www.acmicpc.net/problem/1202)
- **ì•Œê³ ë¦¬ì¦˜ ë¶„ë¥˜:** ê·¸ë¦¬ë””(Greedy), ìš°ì„ ìˆœìœ„ í(Priority Queue), ì •ë ¬(Sorting)

## ë¬¸ì œ ì†Œê°œ ğŸ§

Nê°œì˜ ë³´ì„ ê°ê°ì˜ ë¬´ê²Œì™€ ê°€ê²©, ê·¸ë¦¬ê³  Kê°œì˜ ê°€ë°© ê°ê°ì˜ ìµœëŒ€ ìˆ˜ìš© ë¬´ê²Œê°€ ì£¼ì–´ì¡Œì„ ë•Œ, í›”ì¹  ìˆ˜ ìˆëŠ” ë³´ì„ì˜ ìµœëŒ€ ê°€ê²©ì„ êµ¬í•˜ëŠ” ë¬¸ì œë‹¤. ê° ê°€ë°©ì—ëŠ” ìµœëŒ€ í•˜ë‚˜ì˜ ë³´ì„ë§Œ ë‹´ì„ ìˆ˜ ìˆë‹¤.

| ì‹œê°„ ì œí•œ | ë©”ëª¨ë¦¬ ì œí•œ | ì œì¶œ | ì •ë‹µ | ë§íŒ ì‚¬ëŒ | ì •ë‹µ ë¹„ìœ¨ |
| --- | --- | --- | --- | --- | --- |
| 1 ì´ˆ | 256 MB | 96140 | 24430 | 16934 | 23.546% |

### ì…ë ¥ ğŸ“

- ì²«ì§¸ ì¤„ì— Nê³¼ Kê°€ ì£¼ì–´ì§„ë‹¤. (1 â‰¤ N, K â‰¤ 300,000)
- ë‹¤ìŒ Nê°œ ì¤„ì—ëŠ” ê° ë³´ì„ì˜ ì •ë³´ Miì™€ Viê°€ ì£¼ì–´ì§„ë‹¤. (0 â‰¤ Mi, Vi â‰¤ 1,000,000)
- ë‹¤ìŒ Kê°œ ì¤„ì—ëŠ” ê°€ë°©ì— ë‹´ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ë¬´ê²Œ Ciê°€ ì£¼ì–´ì§„ë‹¤. (1 â‰¤ Ci â‰¤ 100,000,000)

### ì¶œë ¥ ğŸ“¤

- ì²«ì§¸ ì¤„ì— ìƒë•ì´ê°€ í›”ì¹  ìˆ˜ ìˆëŠ” ë³´ì„ ê°€ê²©ì˜ í•©ì˜ ìµœëŒ“ê°’ì„ ì¶œë ¥í•œë‹¤.

---

### Idea 1: ê°€ê²© ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ í›„ íƒìƒ‰

#### Idea

ê°€ì¥ ë¹„ì‹¼ ë³´ì„ë¶€í„° ê°€ë°©ì— ë‹´ì„ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê·¸ë¦¬ë”” ì ‘ê·¼.

1.  ë³´ì„ì„ ê°€ê²©(`v`) ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•œë‹¤.
2.  ê°€ë°©ì„ ë¬´ê²Œ(`c`) ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•œë‹¤.
3.  ê°€ì¥ ë¹„ì‹¼ ë³´ì„ë¶€í„° ìˆœíšŒí•˜ë©°, ë‹´ì„ ìˆ˜ ìˆëŠ” ê°€ë°© ì¤‘ ê°€ì¥ ë¬´ê²Œ ì œì•½ì´ ë¹„ìŠ·í•œ (ê°€ì¥ ì‘ì€) ê°€ë°©ì— ë„£ëŠ”ë‹¤.

#### Code (1ì°¨ ì‹œë„)

```python
import sys

N, K = map(int, sys.stdin.readline().split())

v_w_list = []
for _ in range(N):
    w, v = map(int, sys.stdin.readline().split())
    v_w_list.append((v, w))

bag_w_list = []
for _ in range(K):
    bag_w_list.append(int(sys.stdin.readline().rstrip()))

v_w_list.sort(reverse=True)
bag_w_list.sort(reverse=True)

# ê°€ì¹˜ê°€ ë†’ì€ ë³´ì„ë¶€í„° ë‹´ì„ ìˆ˜ ìˆëŠ”ì§€ íŒë‹¨
# ìµœëŒ€í•œ ê°€ìš©ëŸ‰ì´ë‘ ë¬´ê²Œë‘ ë”± ë§ëŠ”ê²Œ ì´ë“ì´ë‹ˆê¹ ê³„ì† ëŒê¸´í•´ì•¼í•˜ëŠ”ë°...
answer = 0
for jew in v_w_list:
    idx = 0
    for cap in bag_w_list:
        if cap >= jew[1]:
            break
        idx += 1
    
    if idx < len(bag_w_list):
        answer += jew[0]
        bag_w_list.pop(idx)

print(answer)
```

#### Result

-   **ê²°ê³¼: ì‹œê°„ ì´ˆê³¼** ğŸ˜­
-   **ë¬¸ì œì :** ë³´ì„ë§ˆë‹¤ ë‹´ì„ ìˆ˜ ìˆëŠ” ê°€ë°©ì„ ì°¾ëŠ” ê³¼ì •(`for cap in bag_w_list`)ê³¼ `pop(idx)` ì—°ì‚°ì´ ë¹„íš¨ìœ¨ì ì´ë‹¤. ìµœì•…ì˜ ê²½ìš° ì‹œê°„ ë³µì¡ë„ê°€ O(N*K)ì— ê°€ê¹Œì›Œ ì‹œê°„ ì´ˆê³¼ê°€ ë°œìƒí•œë‹¤.

---

### Idea 2: ì´ë¶„ íƒìƒ‰ìœ¼ë¡œ ê°€ë°© ì°¾ê¸°

#### Idea

1ì°¨ ì‹œë„ì˜ ë¬¸ì œì ì¸ ê°€ë°© íƒìƒ‰ ê³¼ì •ì„ ì´ë¶„ íƒìƒ‰ìœ¼ë¡œ ìµœì í™”í•˜ë ¤ëŠ” ì‹œë„.

1.  ë³´ì„ì„ ê°€ê²©(`v`) ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•œë‹¤.
2.  ê°€ë°©ì„ ë¬´ê²Œ(`c`) ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•œë‹¤.
3.  ê° ë³´ì„ì— ëŒ€í•´, ë‹´ì„ ìˆ˜ ìˆëŠ” ê°€ì¥ ì‘ì€ ê°€ë°©ì„ ì´ë¶„ íƒìƒ‰ìœ¼ë¡œ ì°¾ëŠ”ë‹¤.

#### Code (2ì°¨ ì‹œë„)

```python
import sys

N, K = map(int, sys.stdin.readline().split())

v_w_list = []
for _ in range(N):
    w, v = map(int, sys.stdin.readline().split())
    v_w_list.append((v, w))

bag_w_list = []
for _ in range(K):
    bag_w_list.append(int(sys.stdin.readline().rstrip()))

v_w_list.sort(reverse=True)
bag_w_list.sort()

# ê°€ì¹˜ê°€ ë†’ì€ ë³´ì„ë¶€í„° ë‹´ì„ ìˆ˜ ìˆëŠ”ì§€ íŒë‹¨
answer = 0
for jew in v_w_list:
    answer_idx = -1
    if bag_w_list:
        start_idx = 0
        end_idx = len(bag_w_list)
        # ì´ë¶„ íƒìƒ‰ìœ¼ë¡œ ìµœì ì˜ ê°€ë°© êµ¬í•˜ê¸°
        while start_idx < end_idx:
            mid_idx = (start_idx + end_idx) // 2
            if bag_w_list[mid_idx] < jew[1]:
                start_idx = mid_idx + 1
            else:
                end_idx = mid_idx
            answer_idx = max(start_idx, end_idx)
    
    # bag_w_listê°€ ë¹„ì–´ìˆì§€ ì•Šì•„ì„œ ì´ë¶„íƒìƒ‰ì„ ëŒì•˜ê³ , ë°°ë‚­ì— ìˆ˜ìš©ê°€ëŠ¥í• ë•Œ
    if answer_idx != -1 and answer_idx < len(bag_w_list):
        bag_w_list.pop(answer_idx)
        answer += jew[0]

print(answer)
```

#### Result

-   **ê²°ê³¼: ì‹œê°„ ì´ˆê³¼** ğŸ˜­
-   **ë¬¸ì œì :** ì´ë¶„ íƒìƒ‰ìœ¼ë¡œ ê°€ë°©ì„ ì°¾ëŠ” ì‹œê°„ì€ O(log K)ë¡œ ì¤„ì˜€ì§€ë§Œ, ì°¾ì€ í›„ `bag_w_list.pop(answer_idx)` ì—°ì‚°ì´ ì—¬ì „íˆ O(K)ì˜ ì‹œê°„ ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤. ë”°ë¼ì„œ ì „ì²´ ì‹œê°„ ë³µì¡ë„ëŠ” O(N*K)ë¡œ ê°œì„ ë˜ì§€ ì•Šì•˜ë‹¤.

---

### Idea 3: ìš°ì„ ìˆœìœ„ í í™œìš© âœ¨

#### Idea

íƒìƒ‰ì˜ ê´€ì ì„ ë°”ê¾¼ë‹¤. 'ë³´ì„'ì„ ê¸°ì¤€ìœ¼ë¡œ ê°€ë°©ì„ ì°¾ëŠ” ëŒ€ì‹ , 'ê°€ë°©'ì„ ê¸°ì¤€ìœ¼ë¡œ ë‹´ì„ ìˆ˜ ìˆëŠ” ë³´ì„ì„ ê³ ë¥¸ë‹¤.

1.  ë³´ì„ì„ ë¬´ê²Œ(`w`) ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•œë‹¤.
2.  ê°€ë°©ì„ ìˆ˜ìš©ëŸ‰(`c`) ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•œë‹¤.
3.  ê°€ë²¼ìš´ ê°€ë°©ë¶€í„° ìˆœíšŒí•˜ë©° ë‹¤ìŒì„ ë°˜ë³µí•œë‹¤:
    a. í˜„ì¬ ê°€ë°©ì˜ ìˆ˜ìš©ëŸ‰ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ë¬´ê²Œë¥¼ ê°€ì§„ ë³´ì„ë“¤ì„ ëª¨ë‘ ìš°ì„ ìˆœìœ„ í(ìµœëŒ€ í™)ì— ë„£ëŠ”ë‹¤. (ìš°ì„ ìˆœìœ„ íëŠ” ê°€ê²©ì„ ê¸°ì¤€ìœ¼ë¡œ í•œë‹¤)
    b. ìš°ì„ ìˆœìœ„ íê°€ ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´, í˜„ì¬ê¹Œì§€ ë‹´ì„ ìˆ˜ ìˆëŠ” ë³´ì„ë“¤ ì¤‘ ê°€ì¥ ë¹„ì‹¼ ë³´ì„(`heapq.heappop`)ì„ êº¼ë‚´ ê°€ê²©ì„ ë”í•œë‹¤.
4.  ì´ ê³¼ì •ì„ ëª¨ë“  ê°€ë°©ì— ëŒ€í•´ ë°˜ë³µí•œë‹¤.

ì´ ë°©ì‹ì€ ê° ë³´ì„ê³¼ ê°€ë°©ì„ í•œ ë²ˆì”©ë§Œ í™•ì¸í•˜ë¯€ë¡œ íš¨ìœ¨ì ì´ë‹¤.

#### Code (3ì°¨ ì‹œë„)

```python
import sys
import heapq

N, K = map(int, sys.stdin.readline().split())

w_v_list = []
for _ in range(N):
    w, v = map(int, sys.stdin.readline().split())
    heapq.heappush(w_v_list, (w,v))

bag_w_list = []
for _ in range(K):
    bag_w_list.append(int(sys.stdin.readline().rstrip()))

bag_w_list.sort()

answer = 0
candidate_jew = []
for cap in bag_w_list:
    # ë‹´ì„ ìˆ˜ ìˆëŠ” ë³´ì„ì„ ëª¨ë‘ í›„ë³´ì— ì¶”ê°€í•´ë†“ìŒ
    while w_v_list and w_v_list[0][0] <= cap:
        w, v = heapq.heappop(w_v_list)
        heapq.heappush(candidate_jew, -1*v)
    
    # í›„ë³´ ì¤‘ ì ¤ ë¹„ì‹¼ê±¸ ê°€ì ¸ê°
    if candidate_jew:
        answer += (-1*heapq.heappop(candidate_jew))

print(answer)
```

#### Result

-   **ê²°ê³¼: ì„±ê³µ!** ğŸ‰
-   ê°€ë°©ì„ ê¸°ì¤€ìœ¼ë¡œ, ë‹´ì„ ìˆ˜ ìˆëŠ” ë³´ì„ë“¤ì„ í›„ë³´êµ°ìœ¼ë¡œ ë§Œë“¤ê³  ê·¸ì¤‘ ê°€ì¥ ë¹„ì‹¼ ê²ƒì„ ì„ íƒí•˜ëŠ” ê·¸ë¦¬ë”” ì „ëµì´ ìœ íš¨í–ˆë‹¤. ìš°ì„ ìˆœìœ„ íë¥¼ í†µí•´ 'í›„ë³´ ì¤‘ ê°€ì¥ ë¹„ì‹¼ ê²ƒ'ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì°¾ì„ ìˆ˜ ìˆì—ˆë‹¤.

---

## ë°°ìš´ ì  ë° ê°œì„ í•  ë¶€ë¶„ ğŸ¤”

-   **ê´€ì ì˜ ì „í™˜:** 'ë¹„ì‹¼ ë³´ì„ì„ ì–´ëŠ ê°€ë°©ì— ë„£ì„ê¹Œ?'ì—ì„œ 'ê°€ë²¼ìš´ ê°€ë°©ë¶€í„° ì±„ì›Œë‚˜ê°€ëŠ”ë°, ì–´ë–¤ ë³´ì„ì„ ë„£ì–´ì•¼ ê°€ì¥ ì´ë“ì¼ê¹Œ?'ë¡œ ê´€ì ì„ ë°”ê¾¸ëŠ” ê²ƒì´ ë¬¸ì œ í•´ê²°ì˜ í•µì‹¬ì´ì—ˆë‹¤.
-   **ê·¸ë¦¬ë””ì™€ ìš°ì„ ìˆœìœ„ íì˜ ì¡°í•©:** ì •ë ¬ëœ ìˆœì„œë¡œ ìˆœíšŒí•˜ë©´ì„œ, íŠ¹ì • ì‹œì ê¹Œì§€ì˜ í›„ë³´êµ° ì¤‘ì—ì„œ ìµœì ì˜ ê°’ì„ ì„ íƒí•´ì•¼ í•  ë•Œ ìš°ì„ ìˆœìœ„ íëŠ” ë§¤ìš° ê°•ë ¥í•œ ë„êµ¬ì´ë‹¤. ì´ ë¬¸ì œì—ì„œëŠ” 'í˜„ì¬ ê°€ë°©ì— ë‹´ì„ ìˆ˜ ìˆëŠ” ëª¨ë“  ë³´ì„'ì´ í›„ë³´êµ°ì´ ë˜ê³ , 'ê°€ì¥ ë¹„ì‹¼ ë³´ì„'ì´ ìµœì ì˜ ê°’ì´ ëœë‹¤.
-   **ìë£Œêµ¬ì¡°ì˜ ì¤‘ìš”ì„±:** ë™ì¼í•œ ë¡œì§ì´ë¼ë„ ì–´ë–¤ ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠëƒì— ë”°ë¼ ì‹œê°„ ë³µì¡ë„ê°€ í¬ê²Œ ë‹¬ë¼ì§„ë‹¤. `list.pop(i)`ì´ O(N)ì´ë¼ëŠ” ì ì„ ê°„ê³¼í•˜ì—¬ ë‘ ë²ˆì˜ ì‹¤íŒ¨ë¥¼ ê²ªì—ˆë‹¤. ë¬¸ì œì˜ ì œì•½ ì¡°ê±´(N, K â‰¤ 300,000)ì„ ë³´ê³  O(N log N) ë˜ëŠ” O(K log K) ì •ë„ì˜ í’€ì´ë¥¼ ì„¤ê³„í•´ì•¼ í•¨ì„ ì˜ˆì¸¡í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

> ë§‰í˜”ì„ ë•, ë¬¸ì œì— ì ‘ê·¼í•˜ëŠ” ê´€ì  ìì²´ë¥¼ ë’¤ì§‘ì–´ë³´ì. ê°€ë°©ì„ ê¸°ì¤€ìœ¼ë¡œ ìƒê°í•œ ê²ƒì´ ì‹ ì˜ í•œ ìˆ˜ì˜€ë‹¤.

<div style="text-align: center">â‚</div>
