---
layout: post
title:  "[ë°±ì¤€/python] 11660ë²ˆ: êµ¬ê°„ í•© êµ¬í•˜ê¸° 5"
date:   2025-08-09 00:00:00 +0900
categories: Algorithm
tags: [ë°±ì¤€, êµ¬ê°„í•©, ëˆ„ì í•©]
---

<br>

### ğŸ’» ë°±ì¤€ 11660ë²ˆ: êµ¬ê°„ í•© êµ¬í•˜ê¸° 5

- **ë¬¸ì œ ë§í¬:** [https://www.acmicpc.net/problem/11660](https://www.acmicpc.net/problem/11660)
- **ì•Œê³ ë¦¬ì¦˜ ë¶„ë¥˜:** ëˆ„ì  í•©

---

## ë¬¸ì œ ì†Œê°œ ğŸ§

NÃ—N í¬ê¸°ì˜ í‘œì— ì±„ì›Œì§„ ìˆ˜ë“¤ì´ ì£¼ì–´ì¡Œì„ ë•Œ, (x1, y1)ë¶€í„° (x2, y2)ê¹Œì§€ì˜ í•©ì„ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ëŠ” ë¬¸ì œë‹¤. í•©ì„ êµ¬í•˜ëŠ” ì—°ì‚°ì´ ì—¬ëŸ¬ ë²ˆ ì£¼ì–´ì§€ë¯€ë¡œ íš¨ìœ¨ì ì¸ ë°©ë²•ì´ í•„ìš”í–ˆë‹¤.

### ì…ë ¥ ğŸ“

- ì²«ì§¸ ì¤„ì— í‘œì˜ í¬ê¸° Nê³¼ í•©ì„ êµ¬í•´ì•¼ í•˜ëŠ” íšŸìˆ˜ Mì´ ì£¼ì–´ì§„ë‹¤. (1 â‰¤ N â‰¤ 1024, 1 â‰¤ M â‰¤ 100,000)
- ë‘˜ì§¸ ì¤„ë¶€í„° Nê°œì˜ ì¤„ì—ëŠ” í‘œì— ì±„ì›Œì ¸ ìˆëŠ” ìˆ˜ê°€ 1í–‰ë¶€í„° ì°¨ë¡€ëŒ€ë¡œ ì£¼ì–´ì§„ë‹¤.
- ë‹¤ìŒ Mê°œì˜ ì¤„ì—ëŠ” ë„¤ ê°œì˜ ì •ìˆ˜ x1, y1, x2, y2 ê°€ ì£¼ì–´ì§„ë‹¤.

### ì¶œë ¥ ğŸ“¤

- ì´ Mì¤„ì— ê±¸ì³ (x1, y1)ë¶€í„° (x2, y2)ê¹Œì§€ í•©ì„ êµ¬í•´ ì¶œë ¥í•œë‹¤.

### ì œí•œ âŒ

- **ì‹œê°„:** 1ì´ˆ
- **ë©”ëª¨ë¦¬:** 256 MB

---

### ë‚˜ì˜ í’€ì´: ëˆ„ì  í•© ë°°ì—´ í™œìš© ğŸš€

#### Idea

**ì²˜ìŒì—ëŠ”** ê° ì¿¼ë¦¬ë§ˆë‹¤ ì´ì¤‘ ë°˜ë³µë¬¸ìœ¼ë¡œ í•©ì„ êµ¬í•˜ëŠ” ë‹¨ìˆœí•œ ë°©ë²•ì„ ìƒê°í–ˆë‹¤. í•˜ì§€ë§Œ Nê³¼ Mì˜ ìµœëŒ“ê°’ì„ ê³ ë ¤í–ˆì„ ë•Œ, `1024 * 1024 * 100,000`ì´ë¼ëŠ” ì—„ì²­ë‚œ ì—°ì‚° íšŸìˆ˜ê°€ ì˜ˆìƒë˜ì–´ ì‹œê°„ ì´ˆê³¼ê°€ ë‚  ê²ƒì´ ë»”í–ˆë‹¤.

ê·¸ë˜ì„œ **2ì°¨ì› ëˆ„ì  í•©(Prefix Sum)** ë°°ì—´ì„ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.

1.  ë¨¼ì € `sum_li[i][j]`ë¥¼ `(0, 0)`ë¶€í„° `(i, j)`ê¹Œì§€ì˜ í•©ì„ ë‹´ëŠ” ë°°ì—´ë¡œ ì •ì˜í–ˆë‹¤.
2.  `sum_li` ë°°ì—´ì„ ì±„ìš¸ ë•Œ, ë‚˜ëŠ” ê° í–‰ì˜ ëˆ„ì  í•©ì„ ë¨¼ì € êµ¬í•˜ê³ , ê·¸ ê°’ì„ ì´ì „ í–‰ì˜ ê°™ì€ ì—´ ëˆ„ì  í•©ê³¼ ë”í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤.
    - `sum_li[i][j] = (í˜„ì¬ í–‰ì˜ 0ë¶€í„° jê¹Œì§€ì˜ í•©) + sum_li[i-1][j]`
3.  ì´ë ‡ê²Œ ë¯¸ë¦¬ ê³„ì‚°ëœ `sum_li` ë°°ì—´ì´ ìˆìœ¼ë©´, íŠ¹ì • êµ¬ê°„ì˜ í•©ì„ O(1)ì— ê³„ì‚°í•  ìˆ˜ ìˆì—ˆë‹¤.
    - `(x1, y1)`ë¶€í„° `(x2, y2)`ê¹Œì§€ì˜ í•©ì€ `sum_li` ë°°ì—´ì˜ ê°’ë“¤ì„ ë”í•˜ê³  ë¹¼ëŠ” ê²ƒìœ¼ë¡œ ê°„ë‹¨íˆ êµ¬í•  ìˆ˜ ìˆì—ˆë‹¤.

ì´ ì ‘ê·¼ë²•ìœ¼ë¡œ ì‹œê°„ ë³µì¡ë„ë¥¼ O(N^2 + M)ìœ¼ë¡œ ì¤„ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.

#### Code

```python
import sys

n, m = map(int, sys.stdin.readline().split())

num_board = list(list(map(int, sys.stdin.readline().split())) for _ in range(n))

sum_li = [[0 for _ in range(n)] for _ in range(n)]
for i in range(n):
    sum_axis = 0
    for j in range(n):
        sum_axis += num_board[i][j]
        if i == 0:
            sum_li[i][j] = sum_axis
        else:
            sum_li[i][j] = sum_axis  + sum_li[i-1][j]

def print_target_sums(st_x, st_y, end_x, end_y):
    global sum_li
    global num_board

    if st_x > 0 and st_y > 0:
        print(sum_li[end_x][end_y] - sum_li[st_x-1][end_y] - sum_li[end_x][st_y-1] + sum_li[st_x-1][st_y-1])
    elif st_x > 0 and st_y == 0:
        print(sum_li[end_x][end_y] - sum_li[st_x-1][end_y])
    elif st_x == 0 and st_y > 0:
        print(sum_li[end_x][end_y] - sum_li[end_x][st_y-1])
    else:
        print(sum_li[end_x][end_y])
    

for _ in range(m):
    st_x, st_y, end_x, end_y = map(lambda x: int(x) - 1, sys.stdin.readline().split())  # ì‹¤ì œ ì¸ë±ìŠ¤ì— ë§ê²Œ -1
    print_target_sums(st_x, st_y, end_x, end_y)

```

#### Result

- **ê²°ê³¼: ì •ë‹µ! âœ…**
- ëˆ„ì  í•© ë°°ì—´ì„ ë¯¸ë¦¬ ê³„ì‚°í•´ ë‘” ë•ë¶„ì— ê° ì¿¼ë¦¬ë¥¼ ìƒìˆ˜ ì‹œê°„ì— ì²˜ë¦¬í•˜ì—¬ ì‹œê°„ ì´ˆê³¼ ì—†ì´ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤.

---

## ê°œì„ í•  ë¶€ë¶„ ğŸ¤”

- 2ì°¨ì› ë°°ì—´ì˜ êµ¬ê°„ í•© ë¬¸ì œëŠ” ëˆ„ì  í•©ì´ ê±°ì˜ ì •ì„ì ì¸ í’€ì´ë²•ì´ë¼ëŠ” ê²ƒì„ ë‹¤ì‹œ í•œë²ˆ ëŠê¼ˆë‹¤.
- ë‚´ ì½”ë“œì˜ ëˆ„ì  í•© ê³„ì‚° ë°©ì‹ë„ ë¬¸ì œëŠ” ì—†ì—ˆì§€ë§Œ, `sum[i][j] = board[i][j] + sum[i-1][j] + sum[i][j-1] - sum[i-1][j-1]` ì í™”ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¼ë°˜ì ì´ê³  ê¹”ë”í•œ ì½”ë“œê°€ ë  ìˆ˜ ìˆì—ˆì„ ê²ƒ ê°™ë‹¤.
- ë¬¸ì œì˜ ì¢Œí‘œëŠ” 1-based, ë°°ì—´ ì¸ë±ìŠ¤ëŠ” 0-basedì¸ ì ì„ í•­ìƒ ì£¼ì˜í•´ì•¼ê² ë‹¤. ì´ ë¶€ë¶„ì—ì„œ ì‹¤ìˆ˜ê°€ ì¢…ì¢… ë°œìƒí•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.
