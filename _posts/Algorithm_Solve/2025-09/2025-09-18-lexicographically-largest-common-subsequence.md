---
layout: post
title: "[BOJ] ì‚¬ì „ ìˆœ ìµœëŒ€ ê³µí†µ ë¶€ë¶„ ìˆ˜ì—´"
date: 2025-09-18 00:00:00 +0900
categories: [Algorithm_Solve]
tags: [greedy, dp, lcs]
---

<br>

### ğŸ’» ë¬¸ì œ: ì‚¬ì „ ìˆœ ìµœëŒ€ ê³µí†µ ë¶€ë¶„ ìˆ˜ì—´

- **ë¬¸ì œ ë§í¬:** (ë¬¸ì œ ì¶œì²˜ë¥¼ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤)
- **ì•Œê³ ë¦¬ì¦˜ ë¶„ë¥˜:** ê·¸ë¦¬ë””, ë™ì  í”„ë¡œê·¸ë˜ë°

## ë¬¸ì œ ì†Œê°œ ğŸ§

ë‘ ìˆ˜ì—´ Aì™€ Bê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ê³µí†µìœ¼ë¡œ ë‚˜íƒ€ë‚˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ ì¤‘ì—ì„œ ì‚¬ì „ ìˆœìœ¼ë¡œ ê°€ì¥ ë‚˜ì¤‘ì— ì˜¤ëŠ” ê²ƒì„ ì°¾ëŠ” ë¬¸ì œë‹¤. 'ì‚¬ì „ ìˆœìœ¼ë¡œ ë‚˜ì¤‘'ì´ë¼ëŠ” ê²ƒì€ ì•ìë¦¬ë¶€í„° ë¹„êµí–ˆì„ ë•Œ ë” í° ìˆ˜ê°€ ì˜¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

### ì…ë ¥ ğŸ“

- ì²« ì¤„: ìˆ˜ì—´ Aì˜ ê¸¸ì´ N (1 â‰¤ N â‰¤ 100)
- ë‘˜ì§¸ ì¤„: ìˆ˜ì—´ Aì˜ ì›ì†Œë“¤ (1 â‰¤ Ai â‰¤ 100)
- ì…‹ì§¸ ì¤„: ìˆ˜ì—´ Bì˜ ê¸¸ì´ M (1 â‰¤ M â‰¤ 100)
- ë„·ì§¸ ì¤„: ìˆ˜ì—´ Bì˜ ì›ì†Œë“¤ (1 â‰¤ Bi â‰¤ 100)

### ì¶œë ¥ ğŸ“¤

- ì‚¬ì „ ìˆœìœ¼ë¡œ ê°€ì¥ ë‚˜ì¤‘ì¸ ê³µí†µ ë¶€ë¶„ ìˆ˜ì—´ì˜ í¬ê¸° Kì™€ ê·¸ ì›ì†Œë“¤ì„ ì¶œë ¥í•œë‹¤.

---

### í’€ì´: ë‘ ê°€ì§€ ì ‘ê·¼ë²•ê³¼ ê¹¨ë‹¬ìŒ ğŸš€

#### Idea 1: LCS ê¸°ë°˜ ì ‘ê·¼

ì²˜ìŒì—ëŠ” 'ìµœëŒ€ ê³µí†µ ë¶€ë¶„ ìˆ˜ì—´(LCS)'ì´ë¼ëŠ” í‚¤ì›Œë“œì— ê½‚í˜€ì„œ DPë¡œ ì ‘ê·¼í–ˆë‹¤. LCSë¥¼ êµ¬í•˜ëŠ” í‘œì¤€ì ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ê°€ì¥ ê¸´ ê³µí†µ ë¶€ë¶„ ìˆ˜ì—´ì„ ë¨¼ì € ì°¾ê³ , ê·¸ ì•ˆì—ì„œ ì‚¬ì „ ìˆœìœ¼ë¡œ ê°€ì¥ ë‚˜ì¤‘ì¸ ê²ƒì„ ì°¾ìœ¼ë ¤ê³  ì‹œë„í–ˆë‹¤.

#### Code 1

```python
import sys
from collections import deque
from itertools import combinations

N = int(sys.stdin.readline().rstrip())
A = deque(map(int, sys.stdin.readline().split()))
A.appendleft('')

M = int(sys.stdin.readline().rstrip())
B = deque(map(int, sys.stdin.readline().split()))
B.appendleft('')

def get_lcs_length():
    global A, B, N, M
    lcs = [[0 for _ in range(M+1)] for _ in range(N+1)]

    for i in range(1, N+1):
        for j in range(1, M+1):
            if A[i] == B[j]:
                lcs[i][j] = lcs[i-1][j-1] + 1
            else:
                lcs[i][j] = max(lcs[i-1][j], lcs[i][j-1])

    return lcs

def get_lcs_list(lcs):
    global A, B, N, M
    result = deque()

    i, j = N, M
    while i > 0 and j > 0:
        if lcs[i][j] == lcs[i-1][j]:
            i -= 1
        elif lcs[i][j] == lcs[i][j-1]:
            j -= 1
        else:
            result.appendleft(A[i])
            i -= 1
            j -= 1
    return list(result)

def get_last_dict(lcs_list):
    idx = 0
    result = []
    while idx < len(lcs_list):
        for i in range(idx, len(lcs_list)):
            if i == idx:
                result.append(lcs_list[i])
            elif result[-1] < lcs_list[i]:
                result.pop()
                result.append(lcs_list[i])
                idx = i

        idx += 1
    return result

lcs = get_lcs_length()

lcs_list = get_lcs_list(lcs)
if not lcs_list:
    print(0)
    exit()

answer = get_last_dict(lcs_list)
print(len(answer))
print(*answer)
```

#### Result 1

- **ê²°ê³¼: ì‹¤íŒ¨ ğŸ˜­**
- ì´ ì ‘ê·¼ì€ 'ê°€ì¥ ê¸´' ê³µí†µ ë¶€ë¶„ ìˆ˜ì—´ì„ ì°¾ëŠ” ë°ëŠ” ìœ íš¨í•˜ì§€ë§Œ, 'ì‚¬ì „ ìˆœìœ¼ë¡œ ê°€ì¥ ë‚˜ì¤‘ì¸' ìˆ˜ì—´ì„ ì°¾ëŠ” ê²ƒê³¼ëŠ” ëª©í‘œê°€ ë‹¤ë¥´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `{1, 9}`ì™€ `{8, 9}`ëŠ” ë‘˜ ë‹¤ ê³µí†µ ë¶€ë¶„ ìˆ˜ì—´ì¼ ìˆ˜ ìˆì§€ë§Œ, ì‚¬ì „ ìˆœìœ¼ë¡œëŠ” `{8, 9}`ê°€ ë” ë‚˜ì¤‘ì´ë‹¤. LCSëŠ” ê¸¸ì´ì—ë§Œ ì´ˆì ì„ ë§ì¶”ë¯€ë¡œ ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ì—†ì—ˆë‹¤.

---

#### Idea 2: ê·¸ë¦¬ë”” ì•Œê³ ë¦¬ì¦˜

'ì‚¬ì „ ìˆœìœ¼ë¡œ ê°€ì¥ ë‚˜ì¤‘'ì´ë¼ëŠ” ì¡°ê±´ì— ì§‘ì¤‘í•˜ì—¬ ë‹¤ì‹œ ìƒê°í–ˆë‹¤. ê°€ì¥ ì•ì— ì˜¤ëŠ” ìˆ˜ê°€ í´ìˆ˜ë¡ ì¢‹ìœ¼ë¯€ë¡œ, í˜„ì¬ ë‘ ìˆ˜ì—´ì—ì„œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê³µí†µ ì›ì†Œ ì¤‘ ê°€ì¥ í° ê°’ì„ ë¨¼ì € ì„ íƒí•˜ëŠ” ê²ƒì´ ìµœì ì´ë¼ëŠ” ê²°ë¡ ì— ë„ë‹¬í–ˆë‹¤.

1.  ë‘ ìˆ˜ì—´ `arr1`, `arr2`ê°€ ëª¨ë‘ ë¹„ì–´ìˆì§€ ì•Šì€ ë™ì•ˆ ë°˜ë³µí•œë‹¤.
2.  `arr1`ê³¼ `arr2` ê°ê°ì—ì„œ ê°€ì¥ í° ê°’ì„ ì°¾ëŠ”ë‹¤.
3.  ë‘ ìµœëŒ“ê°’ì´ ê°™ë‹¤ë©´, ì´ ê°’ì´ í˜„ì¬ ì‹œì ì—ì„œ ì„ íƒí•  ìˆ˜ ìˆëŠ” ìµœì„ ì˜ ìˆ˜ë‹¤. ê²°ê³¼ì— ì¶”ê°€í•˜ê³ , ë‘ ìˆ˜ì—´ì—ì„œ ì´ ê°’ì´ ë‚˜íƒ€ë‚œ ìœ„ì¹˜ ë‹¤ìŒë¶€í„°ì˜ ë¶€ë¶„ ìˆ˜ì—´ì„ ìƒˆë¡œìš´ `arr1`, `arr2`ë¡œ ì‚¼ëŠ”ë‹¤.
4.  ë‘ ìµœëŒ“ê°’ì´ ë‹¤ë¥´ë‹¤ë©´, ë” ì‘ì€ ìµœëŒ“ê°’ì„ ê°€ì§„ ìˆ˜ì—´ì—ì„œëŠ” ê·¸ ê°’ì´ í˜„ì¬ ìµœì„ ì´ ë  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ í•´ë‹¹ ì›ì†Œë¥¼ ë²„ë¦°ë‹¤.

ì´ ê³¼ì •ì„ ë°˜ë³µí•˜ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ì‚¬ì „ ìˆœìœ¼ë¡œ ê°€ì¥ ë‚˜ì¤‘ì¸ ê³µí†µ ë¶€ë¶„ ìˆ˜ì—´ì´ ë§Œë“¤ì–´ì§„ë‹¤.

#### Code 2

```python
import sys

N = int(sys.stdin.readline().rstrip())
A = list(map(int, sys.stdin.readline().split()))

M = int(sys.stdin.readline().rstrip())
B = list(map(int, sys.stdin.readline().split()))

def solve(arr1: list, arr2: list):
    result = []

    while arr1 and arr2:
        max_arr1 = max(arr1)
        max_arr1_idx = arr1.index(max_arr1)

        max_arr2 = max(arr2)
        max_arr2_idx = arr2.index(max_arr2)

        if max_arr1 == max_arr2:
            result.append(max_arr1)
            arr1 = arr1[max_arr1_idx+1:]
            arr2 = arr2[max_arr2_idx+1:]
        elif max_arr1 > max_arr2:
            arr1.pop(max_arr1_idx)
        else:
            arr2.pop(max_arr2_idx)
    
    return result
    
answer = solve(A, B)
print(len(answer))
print(*answer)
```

#### Result 2

- **ê²°ê³¼: ì„±ê³µ!** ğŸ‰
- ê·¸ë¦¬ë””í•œ ì ‘ê·¼ë²•ì´ ë¬¸ì œì˜ í•µì‹¬ì„ ì •í™•íˆ ê¿°ëš«ì—ˆë‹¤. ê° ë‹¨ê³„ì—ì„œ ìµœì„ ì˜ ì„ íƒ(ê°€ì¥ í° ê³µí†µ ì›ì†Œ)ì„ í•˜ëŠ” ê²ƒì´ ì „ì²´ì˜ ìµœì í•´ë¡œ ì´ì–´ì¡Œë‹¤.

---

## ë°°ìš´ ì  ë° ê°œì„ í•  ë¶€ë¶„ ğŸ¤”

- **ë¬¸ì œì˜ ë³¸ì§ˆ íŒŒì•…í•˜ê¸°:** 'ìµœëŒ€ ê³µí†µ ë¶€ë¶„ ìˆ˜ì—´'ì´ë¼ëŠ” ë‹¨ì–´ì— ë§¤ëª°ë˜ì–´ DPë¡œë§Œ ì ‘ê·¼í•˜ë ¤ í–ˆë˜ ê²ƒì´ ì²« ë²ˆì§¸ íŒ¨ì°©ì´ì—ˆë‹¤. ë¬¸ì œì˜ ì§„ì§œ ìš”êµ¬ì‚¬í•­ì€ 'ê¸¸ì´'ê°€ ì•„ë‹ˆë¼ 'ì‚¬ì „ ìˆœì„œ'ì„ì„ ëª…í™•íˆ ì¸ì§€í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í–ˆë‹¤.
- **ê·¸ë¦¬ë”” ì•Œê³ ë¦¬ì¦˜ì˜ í˜:** ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ 'ê°€ì¥ ì¢‹ì€' ê²ƒì„ ì„ íƒí•´ì•¼ í•˜ëŠ”ì§€ ëª…í™•í•  ë•Œ, ê·¸ë¦¬ë”” ì•Œê³ ë¦¬ì¦˜ì€ ë§¤ìš° ê°•ë ¥í•˜ê³  ì§ê´€ì ì¸ í•´ë²•ì´ ë  ìˆ˜ ìˆë‹¤. 'ì‚¬ì „ ìˆœìœ¼ë¡œ ê°€ì¥ ë‚˜ì¤‘'ì´ë¼ëŠ” ì¡°ê±´ì€ 'ì•ì— ì˜¤ëŠ” ìˆ«ìê°€ í´ìˆ˜ë¡ ì¢‹ë‹¤'ëŠ” ëª…í™•í•œ ê¸°ì¤€ì„ ì œì‹œí–ˆë‹¤.
- **ê³ ì •ê´€ë… íƒˆí”¼:** LCS = DPë¼ëŠ” ê³ ì •ê´€ë…ì—ì„œ ë²—ì–´ë‚˜ ë¬¸ì œì˜ ì¡°ê±´ì„ ë‹¤ì‹œ í•œë²ˆ ê³±ì”¹ì–´ë³´ëŠ” ìì„¸ê°€ í•„ìš”í•¨ì„ ëŠê¼ˆë‹¤.

> ìµìˆ™í•œ ì´ë¦„ì— ì†ì§€ ë§ê³ , ë¬¸ì œì˜ ì§„ì§œ ì–¼êµ´ì„ ë³´ì.

<div style="text-align: center">â‚</div>
