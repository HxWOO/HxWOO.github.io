---
layout: post
title:  "[ë°±ì¤€] 1238: íŒŒí‹°"
date:   2025-09-05 10:00:00 +0900
categories: Algorithm_Solve
tags: [algorithm, dijkstra, shortest-path]
---

<br>

### ğŸ’» ë°±ì¤€ 1238ë²ˆ: íŒŒí‹°

- **ë¬¸ì œ ë§í¬:** [https://www.acmicpc.net/problem/1238](https://www.acmicpc.net/problem/1238)
- **ì•Œê³ ë¦¬ì¦˜ ë¶„ë¥˜:** ë‹¤ìµìŠ¤íŠ¸ë¼(Dijkstra)

## ë¬¸ì œ ì†Œê°œ ğŸ§

Nëª…ì˜ í•™ìƒë“¤ì´ ê°ì ë‹¤ë¥¸ ë§ˆì„ì— ì‚´ê³  ìˆë‹¤. ì´ë“¤ì´ Xë²ˆ ë§ˆì„ì— ëª¨ì—¬ íŒŒí‹°ë¥¼ í•˜ê¸°ë¡œ í–ˆë‹¤. ë§ˆì„ ì‚¬ì´ì—ëŠ” Mê°œì˜ ë‹¨ë°©í–¥ ë„ë¡œê°€ ìˆìœ¼ë©°, ê° ë„ë¡œë¥¼ ì§€ë‚˜ëŠ” ë°ëŠ” íŠ¹ì • ì‹œê°„ì´ ê±¸ë¦°ë‹¤.

ëª¨ë“  í•™ìƒì€ ìì‹ ì˜ ë§ˆì„ì—ì„œ Xë²ˆ ë§ˆì„ê¹Œì§€ ê°”ë‹¤ê°€ ë‹¤ì‹œ ìì‹ ì˜ ë§ˆì„ë¡œ ëŒì•„ì™€ì•¼ í•œë‹¤. ì´ë•Œ, ìµœë‹¨ ì‹œê°„ìœ¼ë¡œ ì˜¤ê³  ê°€ê³  ì‹¶ì–´ í•œë‹¤.

Nëª…ì˜ í•™ìƒ ì¤‘, ì´ ì™•ë³µ ê³¼ì •ì— ê°€ì¥ ë§ì€ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” í•™ìƒì€ ëˆ„êµ¬ì´ë©°, ê·¸ ì‹œê°„ì€ ì–¼ë§ˆì¸ì§€ êµ¬í•˜ëŠ” ë¬¸ì œë‹¤.

### ì…ë ¥ ğŸ“

- ì²«ì§¸ ì¤„ì— N(í•™ìƒ ìˆ˜/ë§ˆì„ ìˆ˜), M(ë„ë¡œ ìˆ˜), X(íŒŒí‹° ì¥ì†Œ)ê°€ ì£¼ì–´ì§„ë‹¤. (1 â‰¤ N â‰¤ 1,000, 1 â‰¤ M â‰¤ 10,000)
- ë‹¤ìŒ Mê°œì˜ ì¤„ì— ê±¸ì³ ë„ë¡œì˜ ì‹œì‘ì , ëì , ì†Œìš” ì‹œê°„ì´ ì£¼ì–´ì§„ë‹¤.

### ì¶œë ¥ ğŸ“¤

- Nëª…ì˜ í•™ìƒ ì¤‘ ê°€ì¥ ì˜¤ë˜ ê±¸ë¦¬ëŠ” í•™ìƒì˜ ì´ ì†Œìš” ì‹œê°„ì„ ì¶œë ¥í•œë‹¤.

---

### ğŸ¤” ì•„ì´ë””ì–´: ë‹¤ìµìŠ¤íŠ¸ë¼ì˜ í•„ìš”ì„±

ëª¨ë“  ë…¸ë“œ ìŒ ê°„ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•´ì•¼ í•˜ëŠ” ë¬¸ì œì²˜ëŸ¼ ë³´ì¼ ìˆ˜ ìˆë‹¤. ë§Œì•½ ê·¸ë¬ë‹¤ë©´ í”Œë¡œì´ë“œ-ì›Œì…œ ì•Œê³ ë¦¬ì¦˜ì„ ê³ ë ¤í–ˆì„ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ í”Œë¡œì´ë“œ-ì›Œì…œì€ ì‹œê°„ ë³µì¡ë„ê°€ O(NÂ³)ì´ë¯€ë¡œ, Nì´ 1,000ì¼ ë•Œ ì•½ 10ì–µ ë²ˆì˜ ì—°ì‚°ì´ í•„ìš”í•´ ì‹œê°„ ì´ˆê³¼ê°€ ë‚  ê²ƒì´ ë¶„ëª…í–ˆë‹¤.

ë”°ë¼ì„œ, íŠ¹ì • ì§€ì ì„ ê¸°ì¤€ìœ¼ë¡œ í•˜ëŠ” ìµœë‹¨ ê²½ë¡œ ì•Œê³ ë¦¬ì¦˜ì¸ **ë‹¤ìµìŠ¤íŠ¸ë¼(Dijkstra)** ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.

í•µì‹¬ì€ ë‘ ê°€ì§€ ê²½ë¡œì˜ ìµœë‹¨ ì‹œê°„ì„ êµ¬í•˜ëŠ” ê²ƒì´ë‹¤.
1.  ê° ë§ˆì„ `i`ì—ì„œ íŒŒí‹° ì¥ì†Œ `X`ê¹Œì§€ ê°€ëŠ” ìµœë‹¨ ì‹œê°„
2.  íŒŒí‹° ì¥ì†Œ `X`ì—ì„œ ê° ë§ˆì„ `i`ë¡œ ëŒì•„ì˜¤ëŠ” ìµœë‹¨ ì‹œê°„

---

#### ğŸ”„ì²« ë²ˆì§¸ ì ‘ê·¼: ê° í•™ìƒë§ˆë‹¤ ë‹¤ìµìŠ¤íŠ¸ë¼ ì‹¤í–‰

ê°€ì¥ ì§ê´€ì ì¸ ë°©ë²•ìœ¼ë¡œ ê° í•™ìƒ(ë§ˆì„)ë§ˆë‹¤ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ ì‹¤í–‰í–ˆë‹¤.

1.  ëª¨ë“  í•™ìƒ `i` (1ë¶€í„° Nê¹Œì§€)ì— ëŒ€í•´, `dijkstra(i)`ë¥¼ ì‹¤í–‰í•˜ì—¬ `X`ê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬ë¥¼ êµ¬í•œë‹¤. (`i -> X`)
2.  íŒŒí‹° ì¥ì†Œ `X`ì—ì„œ `dijkstra(X)`ë¥¼ ì‹¤í–‰í•˜ì—¬ ëª¨ë“  ë‹¤ë¥¸ ë§ˆì„ `i`ê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬ë¥¼ êµ¬í•œë‹¤. (`X -> i`)
3.  ê° í•™ìƒ `i`ì— ëŒ€í•´ `(i -> X) + (X -> i)` ì‹œê°„ì„ ê³„ì‚°í•˜ê³ , ì´ ì¤‘ ìµœëŒ“ê°’ì„ ì°¾ëŠ”ë‹¤.

#### Code

```python
import sys
import heapq

N, M, X = map(int, sys.stdin.readline().split())

graph = [[] for _ in range(N+1)]

for _ in range(M):
    a, b, t = map(int, sys.stdin.readline().split())
    graph[a].append((t, b))

def dijkstra(start, graph):
    global N
    q = []
    q.append((0, start))
    path = [float('inf')] * (N+1)
    path[start] = 0

    while q:
        time, node = heapq.heappop(q)

        if path[node] < time:
            continue

        for n_t, n_node in graph[node]:
            n_time = time + n_t
            if n_time < path[n_node]:
                path[n_node] = n_time
                heapq.heappush(q, (n_time, n_node))
    return path

# Xì—ì„œ ì§‘ìœ¼ë¡œ ëŒì•„ì˜¤ëŠ” ìµœë‹¨ ê²½ë¡œ
x_path = dijkstra(X, graph)
answer = 0
for i in range(1, N+1):
    if i == X:
        continue
    # ì§‘ì—ì„œ Xë¡œ ê°€ëŠ” ìµœë‹¨ ê²½ë¡œ
    cur = dijkstra(i, graph)
    answer = max(answer, cur[X] + x_path[i])

print(answer)
```

#### Result

- **ê²°ê³¼: ì„±ê³µ!** ğŸ‰ 

---

## ë§ˆë¬´ë¦¬ ğŸ¤”

- ìœ„ì˜ ë°©ë²•ì€ `N`ëª…ì˜ í•™ìƒì— ëŒ€í•´ ë‹¤ìµìŠ¤íŠ¸ë¼ë¥¼ ê°ê° ì‹¤í–‰í•˜ë¯€ë¡œ, ì´ `N`ë²ˆì˜ ë‹¤ìµìŠ¤íŠ¸ë¼ ì—°ì‚°ì´ í•„ìš”í•˜ë‹¤. ë‹¤ìµìŠ¤íŠ¸ë¼ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” O(M log N)ì´ë¯€ë¡œ, ì´ ì‹œê°„ ë³µì¡ë„ëŠ” O(N * M log N)ì´ ëœë‹¤. N=1,000, M=10,000ì¼ ê²½ìš° ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìˆë‹¤.

ì‹œê°„ ë³µì¡ë„ë¥¼ ì¤„ì¼ ë” íš¨ìœ¨ì ì¸ ë°©ë²•ì´ ìˆë‹¤. ë°”ë¡œ **ì—­ë°©í–¥ ê·¸ë˜í”„**ë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ë‹¤.

- **`X -> i` (ëŒì•„ì˜¤ëŠ” ê¸¸):** ì›ë˜ ê·¸ë˜í”„ì—ì„œ ë‹¤ìµìŠ¤íŠ¸ë¼ë¥¼ í•œ ë²ˆë§Œ ì‹¤í–‰í•˜ë©´ `X`ì—ì„œ ëª¨ë“  ë‹¤ë¥¸ ë§ˆì„ `i`ê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬ë¥¼ ëª¨ë‘ êµ¬í•  ìˆ˜ ìˆë‹¤.
- **`i -> X` (ê°€ëŠ” ê¸¸):** ëª¨ë“  ë§ˆì„ `i`ì—ì„œ `X`ë¡œ ê°€ëŠ” ìµœë‹¨ ê±°ë¦¬ë¥¼ ì–´ë–»ê²Œ í•œ ë²ˆì— êµ¬í•  ìˆ˜ ìˆì„ê¹Œ? ë„ë¡œì˜ ë°©í–¥ì„ ëª¨ë‘ ë’¤ì§‘ì€ **ì—­ë°©í–¥ ê·¸ë˜í”„**ë¥¼ ë§Œë“¤ê³ , `X`ì—ì„œë¶€í„° ë‹¤ìµìŠ¤íŠ¸ë¼ë¥¼ ì‹¤í–‰í•˜ë©´ ëœë‹¤. ì¦‰, ì—­ë°©í–¥ ê·¸ë˜í”„ì—ì„œ `X`ë¡œë¶€í„° `i`ê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬ëŠ” ì›ë˜ ê·¸ë˜í”„ì—ì„œ `i`ë¡œë¶€í„° `X`ê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬ì™€ ê°™ë‹¤.

ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ ë‹¨ ë‘ ë²ˆë§Œ ì‹¤í–‰í•˜ë©´ ëœë‹¤.

1.  **`dist_from_X`**: ì›ë˜ ê·¸ë˜í”„ì—ì„œ `dijkstra(X)` ì‹¤í–‰
2.  **`dist_to_X`**: ì—­ë°©í–¥ ê·¸ë˜í”„ì—ì„œ `dijkstra(X)` ì‹¤í–‰
3.  ê° í•™ìƒ `i`ì˜ ì´ ì†Œìš” ì‹œê°„ = `dist_to_X[i] + dist_from_X[i]`

ì´ ì ‘ê·¼ë²•ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” **O(M log N)** ìœ¼ë¡œ, í›¨ì”¬ íš¨ìœ¨ì ì´ë‹¤.

- **í•µì‹¬:** ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ ë‘ ë²ˆ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.
- **ê°€ëŠ” ê¸¸:** ì—­ë°©í–¥ ê·¸ë˜í”„ë¥¼ ë§Œë“¤ì–´ `X`ì—ì„œ ì¶œë°œí•˜ëŠ” ë‹¤ìµìŠ¤íŠ¸ë¼ë¥¼ í†µí•´ ëª¨ë“  ë…¸ë“œì—ì„œ `X`ê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬ë¥¼ êµ¬í•œë‹¤.
- **ì˜¤ëŠ” ê¸¸:** ì›ë˜ ê·¸ë˜í”„ì—ì„œ `X`ì—ì„œ ì¶œë°œí•˜ëŠ” ë‹¤ìµìŠ¤íŠ¸ë¼ë¥¼ í†µí•´ `X`ì—ì„œ ëª¨ë“  ë…¸ë“œê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬ë¥¼ êµ¬í•œë‹¤.

> 'ëª¨ë“  ì •ì ì—ì„œ íŠ¹ì • í•œ ì •ì ê¹Œì§€ì˜ ìµœë‹¨ ê²½ë¡œ'ëŠ” ê·¸ë˜í”„ë¥¼ ë’¤ì§‘ì–´ 'íŠ¹ì • í•œ ì •ì ì—ì„œ ëª¨ë“  ì •ì ê¹Œì§€ì˜ ìµœë‹¨ ê²½ë¡œ' ë¬¸ì œë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤ëŠ” êµí›ˆì„ ì–»ì—ˆë‹¤. :teacher:

<div style="text-align: center">â‚</div>
